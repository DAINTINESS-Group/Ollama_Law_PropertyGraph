<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tom-select/2.0.0-rc.4/css/tom-select.min.css" integrity="sha512-43fHB3GLgZfz8QXl1RPQ8O66oIgv3po9cJ5erMt1c4QISq9dYb195T3vr5ImnJPXuVroKcGBPXBFKETW8jrPNQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
                <script src="https://cdnjs.cloudflare.com/ajax/libs/tom-select/2.0.0-rc.4/js/tom-select.complete.js" integrity="sha512-jeF9CfnvzDiw9G9xiksVjxR2lib44Gnovvkv+3CgCG6NXCD4gqlA5nDAVW5WjpA+i+/zKsUWV5xNEbW1X/HH0Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 900px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             
             #config {
                 float: left;
                 width: 400px;
                 height: 600px;
             }
             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
                <div id="select-menu" class="card-header">
                    <div class="row no-gutters">
                        <div class="col-10 pb-2">
                            <select
                            class="form-select"
                            aria-label="Default select example"
                            onchange="selectNode([value]);"
                            id="select-node"
                            placeholder="Select node..."
                            >
                                <option selected>Select a Node by ID</option>
                                
                                    <option value="academia">academia</option>
                                
                                    <option value="process for drawing up codes of practice">process for drawing up codes of practice</option>
                                
                                    <option value="ai office">ai office</option>
                                
                                    <option value="available standards">available standards</option>
                                
                                    <option value="board">board</option>
                                
                                    <option value="codes of practice">codes of practice</option>
                                
                                    <option value="key performance indicators">key performance indicators</option>
                                
                                    <option value="national competent authorities">national competent authorities</option>
                                
                                    <option value="participants to the codes of practice">participants to the codes of practice</option>
                                
                                    <option value="providers of general-purpose ai models">providers of general-purpose ai models</option>
                                
                                    <option value="authorised representative">authorised representative</option>
                                
                                    <option value="annex xi">annex xi</option>
                                
                                    <option value="comparison and verifiability">comparison and verifiability</option>
                                
                                    <option value="commission">commission</option>
                                
                                    <option value="any information or documentation obtained pursuant to this article">any information or documentation obtained pursuant to this article</option>
                                
                                    <option value="confidentiality obligations set out in article 78">confidentiality obligations set out in article 78</option>
                                
                                    <option value="arguments submitted pursuant to paragraph 2">arguments submitted pursuant to paragraph 2</option>
                                
                                    <option value="general-purpose ai model with systemic risk">general-purpose ai model with systemic risk</option>
                                
                                    <option value="article 78">article 78</option>
                                
                                    <option value="information or documentation obtained pursuant to this article">information or documentation obtained pursuant to this article</option>
                                
                                    <option value="provider">provider</option>
                                
                                    <option value="authorised representatives">authorised representatives</option>
                                
                                    <option value="benchmarks and indicators">benchmarks and indicators</option>
                                
                                    <option value="civil society organisations">civil society organisations</option>
                                
                                    <option value="achievement of objectives">achievement of objectives</option>
                                
                                    <option value="articles 53 and 55">articles 53 and 55</option>
                                
                                    <option value="interested parties (union level)">interested parties (union level)</option>
                                
                                    <option value="providers of general-purpose ai models not presenting systemic risks">providers of general-purpose ai models not presenting systemic risks</option>
                                
                                    <option value="codes of practice within the meaning of article 56">codes of practice within the meaning of article 56</option>
                                
                                    <option value="providers of general-purpose ai models with systemic risk">providers of general-purpose ai models with systemic risk</option>
                                
                                    <option value="annexes xi and xii">annexes xi and xii</option>
                                
                                    <option value="approval of code of practice">approval of code of practice</option>
                                
                                    <option value="delegated acts">delegated acts</option>
                                
                                    <option value="delegated acts in accordance with article 97">delegated acts in accordance with article 97</option>
                                
                                    <option value="general-purpose ai model presenting systemic risks">general-purpose ai model presenting systemic risks</option>
                                
                                    <option value="list of general-purpose ai models with systemic risk">list of general-purpose ai models with systemic risk</option>
                                
                                    <option value="measurement and calculation methodologies">measurement and calculation methodologies</option>
                                
                                    <option value="scientific panel pursuant to article 90(1), point (a)">scientific panel pursuant to article 90(1), point (a)</option>
                                
                                    <option value="paragraphs 2 and 3 of this article">paragraphs 2 and 3 of this article</option>
                                
                                    <option value="providers of general-purpose ai models with systemic risks who do not adhere to an approved code of practice">providers of general-purpose ai models with systemic risks who do not adhere to an approved code of practice</option>
                                
                                    <option value="criteria set out in annex xiii">criteria set out in annex xiii</option>
                                
                                    <option value="general-purpose ai model">general-purpose ai model</option>
                                
                                    <option value="high impact capabilities">high impact capabilities</option>
                                
                                    <option value="provider of general-purpose ai models">provider of general-purpose ai models</option>
                                
                                    <option value="systemic risk">systemic risk</option>
                                
                                    <option value="relevant provider">relevant provider</option>
                                
                                    <option value="general-purpose ai models">general-purpose ai models</option>
                                
                                    <option value="systemic risks">systemic risks</option>
                                
                                    <option value="industry">industry</option>
                                
                                    <option value="obligations provided for in articles 53 and 55">obligations provided for in articles 53 and 55</option>
                                
                                    <option value="(a) means to ensure that the information referred to in article 53(1), points (a) and (b), 
is kept up to date in the light of market and technological developments">(a) means to ensure that the information referred to in article 53(1), points (a) and (b), 
is kept up to date in the light of market and technological developments</option>
                                
                                    <option value="(b) the adequate level of detail for the summary about the content used for training">(b) the adequate level of detail for the summary about the content used for training</option>
                                
                                    <option value="(c) the identification of the type and nature of the systemic risks at union level, 
including their sources">(c) the identification of the type and nature of the systemic risks at union level, 
including their sources</option>
                                
                                    <option value="(d) the measures, procedures and modalities for the assessment and management of 
the systemic risks at union level, including the documentation thereof, which shall 
be proportionate to the risks, take into consideration their severity and probability 
and take into account the specific challenges of tackling those risks in the light of 
the possible ways in which such risks may emerge and materialise along the ai 
value chain.">(d) the measures, procedures and modalities for the assessment and management of 
the systemic risks at union level, including the documentation thereof, which shall 
be proportionate to the risks, take into consideration their severity and probability 
and take into account the specific challenges of tackling those risks in the light of 
the possible ways in which such risks may emerge and materialise along the ai 
value chain.</option>
                                
                                    <option value="thresholds listed in paragraphs 2 and 3 of this article">thresholds listed in paragraphs 2 and 3 of this article</option>
                                
                                    <option value="participants">participants</option>
                                
                                    <option value="reporting commitments">reporting commitments</option>
                                
                                    <option value="provider of a general purpose ai model">provider of a general purpose ai model</option>
                                
                                    <option value="providers established in third countries">providers established in third countries</option>
                                
                                    <option value="authorised representative established in the union">authorised representative established in the union</option>
                                
                                    <option value="providers of ai models">providers of ai models</option>
                                
                                    <option value="access">access</option>
                                
                                    <option value="distribution">distribution</option>
                                
                                    <option value="free and open licence">free and open licence</option>
                                
                                    <option value="modification">modification</option>
                                
                                    <option value="usage">usage</option>
                                
                                    <option value="ai systems">ai systems</option>
                                
                                    <option value="harmonised standard">harmonised standard</option>
                                
                                    <option value="presumption of compliance">presumption of compliance</option>
                                
                                    <option value="providers of ai systems">providers of ai systems</option>
                                
                                    <option value="training data">training data</option>
                                
                                    <option value="union copyright law compliance policy">union copyright law compliance policy</option>
                                
                                    <option value="providers of general-purpose ai models who do not adhere to an approved code of practice">providers of general-purpose ai models who do not adhere to an approved code of practice</option>
                                
                                    <option value="alternative adequate means of compliance">alternative adequate means of compliance</option>
                                
                                    <option value="providers who are in compliance with a european harmonised standard">providers who are in compliance with a european harmonised standard</option>
                                
                                    <option value="obligations set out in paragraph 1 of this article">obligations set out in paragraph 1 of this article</option>
                                
                                    <option value="relevant stakeholders">relevant stakeholders</option>
                                
                                    <option value="six months after that decision">six months after that decision</option>
                                
                                    <option value="six months after the designation decision">six months after the designation decision</option>
                                
                            </select>
                        </div>
                        <div class="col-2 pb-2">
                            <button type="button" class="btn btn-primary btn-block" onclick="neighbourhoodHighlight({nodes: []});">Reset Selection</button>
                        </div>
                    </div>
                </div>
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        
            <div id="config"></div>
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              
                  new TomSelect("#select-node",{
                      create: false,
                      sortField: {
                          field: "text",
                          direction: "asc"
                      }
                  });
              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"group": 2, "id": "academia", "label": "academia", "shape": "dot", "size": 1}, {"group": 2, "id": "process for drawing up codes of practice", "label": "process for drawing up codes of practice", "shape": "dot", "size": 4}, {"group": 4, "id": "ai office", "label": "ai office", "shape": "dot", "size": 8}, {"group": 4, "id": "available standards", "label": "available standards", "shape": "dot", "size": 1}, {"group": 4, "id": "board", "label": "board", "shape": "dot", "size": 1}, {"group": 4, "id": "codes of practice", "label": "codes of practice", "shape": "dot", "size": 5}, {"group": 4, "id": "key performance indicators", "label": "key performance indicators", "shape": "dot", "size": 1}, {"group": 4, "id": "national competent authorities", "label": "national competent authorities", "shape": "dot", "size": 3}, {"group": 4, "id": "participants to the codes of practice", "label": "participants to the codes of practice", "shape": "dot", "size": 2}, {"group": 5, "id": "providers of general-purpose ai models", "label": "providers of general-purpose ai models", "shape": "dot", "size": 12}, {"group": 4, "id": "authorised representative", "label": "authorised representative", "shape": "dot", "size": 3}, {"group": 7, "id": "annex xi", "label": "annex xi", "shape": "dot", "size": 2}, {"group": 7, "id": "comparison and verifiability", "label": "comparison and verifiability", "shape": "dot", "size": 1}, {"group": 7, "id": "commission", "label": "commission", "shape": "dot", "size": 16}, {"group": 8, "id": "any information or documentation obtained pursuant to this article", "label": "any information or documentation obtained pursuant to this article", "shape": "dot", "size": 1}, {"group": 8, "id": "confidentiality obligations set out in article 78", "label": "confidentiality obligations set out in article 78", "shape": "dot", "size": 1}, {"group": 7, "id": "arguments submitted pursuant to paragraph 2", "label": "arguments submitted pursuant to paragraph 2", "shape": "dot", "size": 1}, {"group": 7, "id": "general-purpose ai model with systemic risk", "label": "general-purpose ai model with systemic risk", "shape": "dot", "size": 4}, {"group": 9, "id": "article 78", "label": "article 78", "shape": "dot", "size": 1}, {"group": 9, "id": "information or documentation obtained pursuant to this article", "label": "information or documentation obtained pursuant to this article", "shape": "dot", "size": 1}, {"group": 7, "id": "provider", "label": "provider", "shape": "dot", "size": 4}, {"group": 5, "id": "authorised representatives", "label": "authorised representatives", "shape": "dot", "size": 1}, {"group": 7, "id": "benchmarks and indicators", "label": "benchmarks and indicators", "shape": "dot", "size": 1}, {"group": 2, "id": "civil society organisations", "label": "civil society organisations", "shape": "dot", "size": 1}, {"group": 4, "id": "achievement of objectives", "label": "achievement of objectives", "shape": "dot", "size": 2}, {"group": 4, "id": "articles 53 and 55", "label": "articles 53 and 55", "shape": "dot", "size": 1}, {"group": 4, "id": "interested parties (union level)", "label": "interested parties (union level)", "shape": "dot", "size": 1}, {"group": 4, "id": "providers of general-purpose ai models not presenting systemic risks", "label": "providers of general-purpose ai models not presenting systemic risks", "shape": "dot", "size": 1}, {"group": 7, "id": "codes of practice within the meaning of article 56", "label": "codes of practice within the meaning of article 56", "shape": "dot", "size": 1}, {"group": 7, "id": "providers of general-purpose ai models with systemic risk", "label": "providers of general-purpose ai models with systemic risk", "shape": "dot", "size": 3}, {"group": 7, "id": "annexes xi and xii", "label": "annexes xi and xii", "shape": "dot", "size": 1}, {"group": 7, "id": "approval of code of practice", "label": "approval of code of practice", "shape": "dot", "size": 1}, {"group": 7, "id": "delegated acts", "label": "delegated acts", "shape": "dot", "size": 1}, {"group": 7, "id": "delegated acts in accordance with article 97", "label": "delegated acts in accordance with article 97", "shape": "dot", "size": 1}, {"group": 7, "id": "general-purpose ai model presenting systemic risks", "label": "general-purpose ai model presenting systemic risks", "shape": "dot", "size": 1}, {"group": 7, "id": "list of general-purpose ai models with systemic risk", "label": "list of general-purpose ai models with systemic risk", "shape": "dot", "size": 1}, {"group": 7, "id": "measurement and calculation methodologies", "label": "measurement and calculation methodologies", "shape": "dot", "size": 1}, {"group": 7, "id": "scientific panel pursuant to article 90(1), point (a)", "label": "scientific panel pursuant to article 90(1), point (a)", "shape": "dot", "size": 1}, {"group": 7, "id": "paragraphs 2 and 3 of this article", "label": "paragraphs 2 and 3 of this article", "shape": "dot", "size": 2}, {"group": 7, "id": "providers of general-purpose ai models with systemic risks who do not adhere to an approved code of practice", "label": "providers of general-purpose ai models with systemic risks who do not adhere to an approved code of practice", "shape": "dot", "size": 1}, {"group": 7, "id": "criteria set out in annex xiii", "label": "criteria set out in annex xiii", "shape": "dot", "size": 1}, {"group": 5, "id": "general-purpose ai model", "label": "general-purpose ai model", "shape": "dot", "size": 3}, {"group": 5, "id": "high impact capabilities", "label": "high impact capabilities", "shape": "dot", "size": 1}, {"group": 5, "id": "provider of general-purpose ai models", "label": "provider of general-purpose ai models", "shape": "dot", "size": 1}, {"group": 5, "id": "systemic risk", "label": "systemic risk", "shape": "dot", "size": 2}, {"group": 7, "id": "relevant provider", "label": "relevant provider", "shape": "dot", "size": 1}, {"group": 5, "id": "general-purpose ai models", "label": "general-purpose ai models", "shape": "dot", "size": 2}, {"group": 5, "id": "systemic risks", "label": "systemic risks", "shape": "dot", "size": 2}, {"group": 2, "id": "industry", "label": "industry", "shape": "dot", "size": 1}, {"group": 1, "id": "obligations provided for in articles 53 and 55", "label": "obligations provided for in articles 53 and 55", "shape": "dot", "size": 4}, {"group": 1, "id": "(a) means to ensure that the information referred to in article 53(1), points (a) and (b), \nis kept up to date in the light of market and technological developments", "label": "(a) means to ensure that the information referred to in article 53(1), points (a) and (b), \nis kept up to date in the light of market and technological developments", "shape": "dot", "size": 1}, {"group": 1, "id": "(b) the adequate level of detail for the summary about the content used for training", "label": "(b) the adequate level of detail for the summary about the content used for training", "shape": "dot", "size": 1}, {"group": 1, "id": "(c) the identification of the type and nature of the systemic risks at union level, \nincluding their sources", "label": "(c) the identification of the type and nature of the systemic risks at union level, \nincluding their sources", "shape": "dot", "size": 1}, {"group": 1, "id": "(d) the measures, procedures and modalities for the assessment and management of \nthe systemic risks at union level, including the documentation thereof, which shall \nbe proportionate to the risks, take into consideration their severity and probability \nand take into account the specific challenges of tackling those risks in the light of \nthe possible ways in which such risks may emerge and materialise along the ai \nvalue chain.", "label": "(d) the measures, procedures and modalities for the assessment and management of \nthe systemic risks at union level, including the documentation thereof, which shall \nbe proportionate to the risks, take into consideration their severity and probability \nand take into account the specific challenges of tackling those risks in the light of \nthe possible ways in which such risks may emerge and materialise along the ai \nvalue chain.", "shape": "dot", "size": 1}, {"group": 7, "id": "thresholds listed in paragraphs 2 and 3 of this article", "label": "thresholds listed in paragraphs 2 and 3 of this article", "shape": "dot", "size": 1}, {"group": 4, "id": "participants", "label": "participants", "shape": "dot", "size": 1}, {"group": 4, "id": "reporting commitments", "label": "reporting commitments", "shape": "dot", "size": 1}, {"group": 5, "id": "provider of a general purpose ai model", "label": "provider of a general purpose ai model", "shape": "dot", "size": 1}, {"group": 10, "id": "providers established in third countries", "label": "providers established in third countries", "shape": "dot", "size": 1}, {"group": 10, "id": "authorised representative established in the union", "label": "authorised representative established in the union", "shape": "dot", "size": 1}, {"group": 3, "id": "providers of ai models", "label": "providers of ai models", "shape": "dot", "size": 5}, {"group": 3, "id": "access", "label": "access", "shape": "dot", "size": 1}, {"group": 3, "id": "distribution", "label": "distribution", "shape": "dot", "size": 1}, {"group": 3, "id": "free and open licence", "label": "free and open licence", "shape": "dot", "size": 1}, {"group": 3, "id": "modification", "label": "modification", "shape": "dot", "size": 1}, {"group": 3, "id": "usage", "label": "usage", "shape": "dot", "size": 1}, {"group": 5, "id": "ai systems", "label": "ai systems", "shape": "dot", "size": 1}, {"group": 7, "id": "harmonised standard", "label": "harmonised standard", "shape": "dot", "size": 2}, {"group": 5, "id": "presumption of compliance", "label": "presumption of compliance", "shape": "dot", "size": 2}, {"group": 5, "id": "providers of ai systems", "label": "providers of ai systems", "shape": "dot", "size": 1}, {"group": 5, "id": "training data", "label": "training data", "shape": "dot", "size": 1}, {"group": 5, "id": "union copyright law compliance policy", "label": "union copyright law compliance policy", "shape": "dot", "size": 1}, {"group": 6, "id": "providers of general-purpose ai models who do not adhere to an approved code of practice", "label": "providers of general-purpose ai models who do not adhere to an approved code of practice", "shape": "dot", "size": 1}, {"group": 6, "id": "alternative adequate means of compliance", "label": "alternative adequate means of compliance", "shape": "dot", "size": 1}, {"group": 5, "id": "providers who are in compliance with a european harmonised standard", "label": "providers who are in compliance with a european harmonised standard", "shape": "dot", "size": 2}, {"group": 5, "id": "obligations set out in paragraph 1 of this article", "label": "obligations set out in paragraph 1 of this article", "shape": "dot", "size": 1}, {"group": 2, "id": "relevant stakeholders", "label": "relevant stakeholders", "shape": "dot", "size": 1}, {"group": 7, "id": "six months after that decision", "label": "six months after that decision", "shape": "dot", "size": 1}, {"group": 7, "id": "six months after the designation decision", "label": "six months after the designation decision", "shape": "dot", "size": 1}]);
                  edges = new vis.DataSet([{"from": "academia", "label": "Support", "paragraph_id": "5.6.4", "to": "process for drawing up codes of practice", "width": 1.0}, {"from": "ai office", "label": "Assists in assessment", "paragraph_id": "5.6.9", "to": "available standards", "width": 1.0}, {"from": "ai office", "label": "Aim to ensure,Collaboration to ensure clear objectives in codes of practice,Regularly monitor and evaluate", "paragraph_id": "5.6.3,5.6.5,5.6.7", "to": "board", "width": 3.0}, {"from": "ai office", "label": "Encourages and facilitates drawing up,Encourages and facilitates review and adaptation", "paragraph_id": "5.6.2,5.6.9", "to": "codes of practice", "width": 2.0}, {"from": "ai office", "label": "Ensures reflection", "paragraph_id": "5.6.6", "to": "key performance indicators", "width": 1.0}, {"from": "ai office", "label": "Invites for drawing up codes of practice", "paragraph_id": "5.6.4", "to": "national competent authorities", "width": 1.0}, {"from": "ai office", "label": "Reports regularily", "paragraph_id": "5.6.6", "to": "participants to the codes of practice", "width": 1.0}, {"from": "ai office", "label": "Mandatory technical documentation provision for regulatory compliance", "paragraph_id": "5.3.2", "to": "providers of general-purpose ai models", "width": 1.0}, {"from": "ai office", "label": "provide copy of mandate upon request (one of official languages),cooperate with AI Office and national competent authorities upon request,Addressee for compliance issues,Informs", "paragraph_id": "5.4.4,5.4.4,5.4.5,5.4.6", "to": "authorised representative", "width": 4.0}, {"from": "annex xi", "label": "Allows for", "paragraph_id": "5.3.6", "to": "comparison and verifiability", "width": 1.0}, {"from": "annex xi", "label": "Facilitates compliance with", "paragraph_id": "5.3.6", "to": "commission", "width": 1.0}, {"from": "any information or documentation obtained pursuant to this article", "label": "Subject to", "paragraph_id": "5.5.4", "to": "confidentiality obligations set out in article 78", "width": 1.0}, {"from": "arguments submitted pursuant to paragraph 2", "label": "Lack of sufficient substantiation for", "paragraph_id": "5.2.4", "to": "general-purpose ai model with systemic risk", "width": 1.0}, {"from": "article 78", "label": "Confidentiality obligations", "paragraph_id": "5.3.8", "to": "information or documentation obtained pursuant to this article", "width": 1.0}, {"from": "authorised representative", "label": "keep copy of technical documentation at disposal for 10 years,Addressee for compliance issues", "paragraph_id": "5.4.4,5.4.5", "to": "national competent authorities", "width": 2.0}, {"from": "authorised representative", "label": "verify technical documentation and fulfil obligations,Considers acting contrary to obligations", "paragraph_id": "5.4.4,5.4.6", "to": "provider", "width": 2.0}, {"from": "authorised representatives", "label": "Represents", "paragraph_id": "5.4.1", "to": "providers of general-purpose ai models", "width": 1.0}, {"from": "benchmarks and indicators", "label": "Supplements", "paragraph_id": "5.1.4", "to": "commission", "width": 1.0}, {"from": "civil society organisations", "label": "Support", "paragraph_id": "5.6.4", "to": "process for drawing up codes of practice", "width": 1.0}, {"from": "codes of practice", "label": "Regularly monitor and evaluate", "paragraph_id": "5.6.7", "to": "achievement of objectives", "width": 1.0}, {"from": "codes of practice", "label": "Cover at least", "paragraph_id": "5.6.3", "to": "articles 53 and 55", "width": 1.0}, {"from": "codes of practice", "label": "Consideration of needs and interests", "paragraph_id": "5.6.5", "to": "interested parties (union level)", "width": 1.0}, {"from": "codes of practice", "label": "Adherence", "paragraph_id": "5.6.8", "to": "providers of general-purpose ai models not presenting systemic risks", "width": 1.0}, {"from": "codes of practice within the meaning of article 56", "label": "May rely on to demonstrate compliance with the obligations set out \nin paragraph 1 of this Article", "paragraph_id": "5.5.3", "to": "providers of general-purpose ai models with systemic risk", "width": 1.0}, {"from": "commission", "label": "Amends in accordance with Article 97(2)", "paragraph_id": "5.3.7", "to": "annexes xi and xii", "width": 1.0}, {"from": "commission", "label": "Implementing act", "paragraph_id": "5.6.7", "to": "approval of code of practice", "width": 1.0}, {"from": "commission", "label": "Issues", "paragraph_id": "5.1.4", "to": "delegated acts", "width": 1.0}, {"from": "commission", "label": "Adopts to specify and update criteria set out in Annex XIII", "paragraph_id": "5.2.5", "to": "delegated acts in accordance with article 97", "width": 1.0}, {"from": "commission", "label": "Designates", "paragraph_id": "5.2.5", "to": "general-purpose ai model presenting systemic risks", "width": 1.0}, {"from": "commission", "label": "Reassessment,Decides to maintain the designation as a general-purpose AI model with \nsystemic risks", "paragraph_id": "5.2.6,5.2.6", "to": "general-purpose ai model with systemic risk", "width": 2.0}, {"from": "commission", "label": "Publishes and keeps up to date without prejudice to intellectual property rights and confidential business information or trade secrets in accordance with Union and national law.", "paragraph_id": "5.2.7", "to": "list of general-purpose ai models with systemic risk", "width": 1.0}, {"from": "commission", "label": "Shall adopt delegated acts to detail", "paragraph_id": "5.3.6", "to": "measurement and calculation methodologies", "width": 1.0}, {"from": "commission", "label": "Upon a reasoned request,Following its reassessment", "paragraph_id": "5.2.6,5.2.6", "to": "provider", "width": 2.0}, {"from": "commission", "label": "Receives qualified alert from", "paragraph_id": "5.2.5", "to": "scientific panel pursuant to article 90(1), point (a)", "width": 1.0}, {"from": "commission", "label": "Amends", "paragraph_id": "5.1.4", "to": "paragraphs 2 and 3 of this article", "width": 1.0}, {"from": "commission", "label": "Cooperate with", "paragraph_id": "5.3.4", "to": "providers of general-purpose ai models", "width": 1.0}, {"from": "commission", "label": "Demonstrate alternative adequate means of compliance for approval", "paragraph_id": "5.5.3", "to": "providers of general-purpose ai models with systemic risk", "width": 1.0}, {"from": "commission", "label": "Demonstrate alternative adequate means of compliance for approval by the", "paragraph_id": "5.5.3", "to": "providers of general-purpose ai models with systemic risks who do not adhere to an approved code of practice", "width": 1.0}, {"from": "criteria set out in annex xiii", "label": "Based on", "paragraph_id": "5.2.6", "to": "general-purpose ai model with systemic risk", "width": 1.0}, {"from": "general-purpose ai model", "label": "Presumed to have when training exceeds 10^25 FLOPs", "paragraph_id": "5.1.3", "to": "high impact capabilities", "width": 1.0}, {"from": "general-purpose ai model", "label": "Provides", "paragraph_id": "5.3.1", "to": "provider of general-purpose ai models", "width": 1.0}, {"from": "general-purpose ai model", "label": "Classified as", "paragraph_id": "5.1.1", "to": "systemic risk", "width": 1.0}, {"from": "general-purpose ai model with systemic risk", "label": "Inability to demonstrate", "paragraph_id": "5.2.4", "to": "relevant provider", "width": 1.0}, {"from": "general-purpose ai models", "label": "Exceptions do not apply to", "paragraph_id": "5.3.3", "to": "systemic risks", "width": 1.0}, {"from": "general-purpose ai models", "label": "Applies to", "paragraph_id": "5.2.7", "to": "providers of general-purpose ai models", "width": 1.0}, {"from": "industry", "label": "Support", "paragraph_id": "5.6.4", "to": "process for drawing up codes of practice", "width": 1.0}, {"from": "obligations provided for in articles 53 and 55", "label": "Include", "paragraph_id": "5.6.3", "to": "(a) means to ensure that the information referred to in article 53(1), points (a) and (b), \nis kept up to date in the light of market and technological developments", "width": 1.0}, {"from": "obligations provided for in articles 53 and 55", "label": "Include", "paragraph_id": "5.6.3", "to": "(b) the adequate level of detail for the summary about the content used for training", "width": 1.0}, {"from": "obligations provided for in articles 53 and 55", "label": "Include", "paragraph_id": "5.6.3", "to": "(c) the identification of the type and nature of the systemic risks at union level, \nincluding their sources", "width": 1.0}, {"from": "obligations provided for in articles 53 and 55", "label": "Include", "paragraph_id": "5.6.3", "to": "(d) the measures, procedures and modalities for the assessment and management of \nthe systemic risks at union level, including the documentation thereof, which shall \nbe proportionate to the risks, take into consideration their severity and probability \nand take into account the specific challenges of tackling those risks in the light of \nthe possible ways in which such risks may emerge and materialise along the ai \nvalue chain.", "width": 1.0}, {"from": "paragraphs 2 and 3 of this article", "label": "Are", "paragraph_id": "5.1.4", "to": "thresholds listed in paragraphs 2 and 3 of this article", "width": 1.0}, {"from": "participants", "label": "Regularly monitor and evaluate", "paragraph_id": "5.6.7", "to": "achievement of objectives", "width": 1.0}, {"from": "participants to the codes of practice", "label": "Reflect differences in size and capacity", "paragraph_id": "5.6.6", "to": "reporting commitments", "width": 1.0}, {"from": "provider of a general purpose ai model", "label": "Exceptionally does not present due to specific characteristics", "paragraph_id": "5.2.3", "to": "systemic risks", "width": 1.0}, {"from": "providers established in third countries", "label": "Appoints by written mandate", "paragraph_id": "5.4.2", "to": "authorised representative established in the union", "width": 1.0}, {"from": "providers of ai models", "label": "To", "paragraph_id": "5.3.3", "to": "access", "width": 1.0}, {"from": "providers of ai models", "label": "Of", "paragraph_id": "5.3.3", "to": "distribution", "width": 1.0}, {"from": "providers of ai models", "label": "Release under", "paragraph_id": "5.3.3", "to": "free and open licence", "width": 1.0}, {"from": "providers of ai models", "label": "To", "paragraph_id": "5.3.3", "to": "modification", "width": 1.0}, {"from": "providers of ai models", "label": "To", "paragraph_id": "5.3.3", "to": "usage", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Compatibility", "paragraph_id": "5.3.2", "to": "ai systems", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Reliance on codes of practice", "paragraph_id": "5.3.5", "to": "harmonised standard", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Mandatory technical documentation provision for regulatory compliance,Cooperate with", "paragraph_id": "5.3.2,5.3.4", "to": "national competent authorities", "width": 2.0}, {"from": "providers of general-purpose ai models", "label": "Meaning of Article 56", "paragraph_id": "5.3.5", "to": "presumption of compliance", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Availability of model information for AI system integration", "paragraph_id": "5.3.2", "to": "providers of ai systems", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Cause", "paragraph_id": "5.5.1", "to": "systemic risk", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Content summary disclosure", "paragraph_id": "5.3.2", "to": "training data", "width": 1.0}, {"from": "providers of general-purpose ai models", "label": "Implementation", "paragraph_id": "5.3.2", "to": "union copyright law compliance policy", "width": 1.0}, {"from": "providers of general-purpose ai models who do not adhere to an approved code of practice", "label": "Approval by the Commission", "paragraph_id": "5.3.5", "to": "alternative adequate means of compliance", "width": 1.0}, {"from": "providers of general-purpose ai models with systemic risk", "label": "Rely on until publication", "paragraph_id": "5.5.3", "to": "harmonised standard", "width": 1.0}, {"from": "providers who are in compliance with a european harmonised standard", "label": "Presumed to be in compliance with", "paragraph_id": "5.5.3", "to": "obligations set out in paragraph 1 of this article", "width": 1.0}, {"from": "providers who are in compliance with a european harmonised standard", "label": "Paragraph 1 of this Article", "paragraph_id": "5.3.5", "to": "presumption of compliance", "width": 1.0}, {"from": "relevant stakeholders", "label": "Support", "paragraph_id": "5.6.4", "to": "process for drawing up codes of practice", "width": 1.0}, {"from": "six months after that decision", "label": "May request reassessment at the earliest", "paragraph_id": "5.2.6", "to": "provider", "width": 1.0}, {"from": "six months after the designation decision", "label": "May request reassessment at the earliest", "paragraph_id": "5.2.6", "to": "provider", "width": 1.0}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "physics"
        ]
    },
    "edges": {
        "color": {
            "inherit": true
        },
        "smooth": {
            "enabled": true,
            "type": "dynamic"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": true,
        "forceAtlas2Based": {
            "avoidOverlap": 0,
            "centralGravity": 0.015,
            "damping": 0.4,
            "gravitationalConstant": -31,
            "springConstant": 0.08,
            "springLength": 100
        },
        "solver": "forceAtlas2Based",
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

                  


                  
                  // if this network requires displaying the configure window,
                  // put it in its div
                  options.configure["container"] = document.getElementById("config");
                  

                  network = new vis.Network(container, data, options);

                  

                  
                    network.on("selectNode", neighbourhoodHighlight);
                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>
    <script type="text/javascript">
        function deleteNode() {
            var selectedNodes = network.getSelectedNodes();
            if (selectedNodes.length === 0) {
                alert("Please select a node to delete.");
                return;
            }

            // Remove selected nodes and their edges
            network.body.data.nodes.remove(selectedNodes);
            network.body.data.edges.remove(network.getConnectedEdges(selectedNodes[0]));

            alert("Node and connected edges deleted!");
        }

        // Add a delete button dynamically
        var deleteButton = document.createElement("button");
        deleteButton.innerHTML = "Delete Selected Node";
        deleteButton.onclick = deleteNode;
        deleteButton.style.position = "absolute";
        deleteButton.style.top = "10px";
        deleteButton.style.right = "10px";
        deleteButton.style.padding = "10px";
        deleteButton.style.backgroundColor = "#ff4d4d";
        deleteButton.style.color = "white";
        deleteButton.style.border = "none";
        deleteButton.style.cursor = "pointer";
        document.body.appendChild(deleteButton);

        function saveGraph() {
            var nodes = network.body.data.nodes.get(); // Get remaining nodes
            var edges = network.body.data.edges.get(); // Get remaining edges

            var graphData = {
                edges: edges.map(edge => ({
                    "node_1": edge.from,
                    "node_2": edge.to,
                    "edge": edge.label || "relationship"
                }))
            };

            // Convert to JSON and trigger file download
            var blob = new Blob([JSON.stringify(graphData, null, 2)], { type: "application/json" });
            var a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "final_graph.json";
            a.click();
        }

        // Add a "Save Graph" button dynamically
        var saveButton = document.createElement("button");
        saveButton.innerHTML = "Save Graph";
        saveButton.onclick = saveGraph;
        saveButton.style.position = "absolute";
        saveButton.style.top = "50px";  // Adjusted to avoid overlapping
        saveButton.style.right = "10px";
        saveButton.style.padding = "10px";
        saveButton.style.backgroundColor = "#4CAF50";
        saveButton.style.color = "white";
        saveButton.style.border = "none";
        saveButton.style.cursor = "pointer";
        document.body.appendChild(saveButton);
    </script>
    